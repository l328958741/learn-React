<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Redux的基本原理1</title>
    <script src="https://cdn.bootcss.com/react/16.4.0/umd/react.development.js"></script>
    <script src="https://cdn.bootcss.com/react-dom/16.4.0/umd/react-dom.development.js"></script>
    <script src="https://cdn.bootcss.com/babel-standalone/6.26.0/babel.js"></script>
  </head>
  <body>
    <div id="title"></div>
    <div id="content"></div>
    <script type="text/babel">
        const appState = {
            title: {
                text: 'React.js 小书',
                color: 'red',
            },
            content: {
                text: '这是书的内容',
                color: 'green'
            }
        }

        function renderApp(appState) {
            renderTitle(appState.title)
            renderContent(appState.content)
        }

        function renderTitle(title){
            const oT = document.getElementById('title')
            oT.innerHTML = title.text
            oT.style.color = title.color
        }

        function renderContent(content){
            const oC = document.getElementById('content')
            oC.innerHTML = content.text
            oC.style.color = content.color
        }

        function dispatch(action){
            switch (action.type) {
                case 'update_title_text':
                    appState.title.text = action.text
                    break;
                case 'update_title_color':
                    appState.title.color = action.color
                    break;
                default:
                    break;
            }
        }

        renderApp(appState)
        dispatch({type:'update_title_text', text: '《React.js 小书》'})
        dispatch({type: 'update_title_color', color: 'blue'})
        renderApp(appState)
    </script>
  </body>
</html>